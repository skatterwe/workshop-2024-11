<div class="card">
  <div class="header">
    <h2 class="title">Flight Search</h2>
  </div>

  <div class="content">
    <form>
      <div class="form-group">
        <label for="from">From</label>
        <input name="from" class="form-control" type="text" [(ngModel)]="from" id="from" />
      </div>

      <div class="form-group">
        <label for="to">To</label>
        <input name="to" class="form-control" type="text" [(ngModel)]="to" id="to" />
      </div>

      <div class="form-group">
        <button class="btn btn-default" [disabled]="!from || !to" (click)="searchFlight()">Search</button>
      </div>
    </form>

    @if (flights.length) {
      <table class="table table-condensed">
        <thead>
          <tr>
            <th>Id</th>
            <th>From</th>
            <th>To</th>
            <th>Date</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          @for (flight of flights; track flight.id) {
            <tr [ngClass]="{ selected: selectedFlight === flight.id }">
              <th>{{ flight.id }}</th>
              <th>{{ flight.from | city:'LONG' }}</th>
              <th>{{ flight.to | city:'LONG' }}</th>
              <th>{{ flight.date | date:'dd.MM.YY' }}</th>
              <th><button class="btn btn-link" (click)="select(flight)">Select</button></th>
            </tr>
          }
        </tbody>
      </table>
    }
  </div>
</div>
